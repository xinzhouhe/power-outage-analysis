"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[282],{282:(t,e,o)=>{o.r(e),o.d(e,{default:()=>p});var r=o(916),a=o(582),n=o(25);const i="primer-spec-star-wars-toggle",s=40,l=80,c="primer-spec-star-wars-auto-scroll-ctrl";let d=null;async function p(){(0,n.X)(),function(){if(m.enabled||null!=document.getElementById(i))return;const t=document.querySelector("#primer-spec-settings-toggle"),e=t?.querySelector("#primer-spec-settings-toggle .primer-spec-hoverable");if(!e||!t)return void console.warn("Primer Spec: April Fools Star Wars joke: Could not find left-most topbar toggle button or settings toggle button");const o=e.cloneNode(!0);o.style.paddingRight="1em";const r=o.querySelector("i.fa-cog");r?.classList.remove("fa-cog"),r?.classList.add("fa-jedi"),r&&(r.id=i),t.prepend(o);const a=o.querySelector("button");a?.addEventListener("click",(()=>h()))}()}const m={enabled:!1,autoScroll:!0},u="primer-spec-april-fools-star-wars-popover";function h(){const t=document.getElementById(u);if(t)return void t.remove();const e=(0,a.Cl)()===a.mr.MAY?"May the fourth be with you!":"April Fools!",o=document.querySelector("header.primer-spec-topbar");o?.appendChild(r.h("div",{id:u,class:"Popover position-absolute",style:"right: 8em; pointer-events: auto;"},r.h("div",{class:"Popover-message Popover-message--right-top p-4 mr-2 Box color-shadow-large",style:"width: auto;"},r.h("button",{class:"btn-link position-absolute primer-spec-hoverable",style:"top: 0.25em; right: 0.5em; font-size: 20px;",onClick:()=>h()},r.h("i",{class:"fas fa-times"})),r.h("h4",{class:"mb-2"},e),r.h("button",{class:"btn btn-primary",onClick:()=>{m.enabled||(m.enabled=!0,d=document.body,document.head.appendChild(r.h("style",null,"/*","Name: StarWarsIntro.css","URI: polarnotion.github.io/starwarsintro","Author: Polar Notion","Author URI: http://polarnotion.com/","Description: A simple CSS library for creating a Star Wars Intro Crawl. May the Force be with you.","Version: 1.0","*/",".topbar {","  position: fixed;","  top: 0;","  width: 100%;","  z-index: 2;","  display: flex;","  justify-content: center;","}",".wrapper {","  position: fixed;","}","body, html, .wrapper {","  height: 100%;","  width: 100%;","  min-height: 100vh;","  margin: 0px;","}",".star-wars-intro {",'  background: url("https://eecs485staff.github.io/primer-spec/demo/stars-bg.jpg") center center;',"  width: 100%;","  height: 100%;",'  font-family: "Droid Sans", arial, verdana, sans-serif;',"  font-weight: 700;","  color: #EBD71C;","  background-color: #000;","  overflow: hidden;","  position: relative;","}",".star-wars-intro p.intro-text {","  position: relative;","  max-width: 16em;","  font-size: 200%;","  font-weight: 400;","  margin: 20% auto;","  color: #4ee;","  opacity: 0;","  z-index: 1;","  text-align: center;","  animation: intro 2s ease-out;","  /* Support animate-via-scrolling */","  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s);","  animation-iteration-count: 1;","  animation-fill-mode: both;","  animation-play-state: paused;","}",".star-wars-intro .main-content{","  margin-left: auto;","  margin-right: auto;","  position: absolute;","  z-index: 3;","  width: 98%;","  height: 500vh;","  bottom: 0;","  font-size: 80px;","  font-weight: bold;","  text-align: justify;","  overflow: hidden;","  transform-origin: 50% 100%;","  transform: perspective(350px) rotateX(25deg);","  /* Hyphenation and text-wrap on small screens */","  overflow-wrap: anywhere;","  hyphens: auto;","}",".star-wars-intro .main-content:after {","  position: absolute;","  content: ' ';","  top: 0;","  bottom: 60%;","  background-image: linear-gradient(top, rgba(0,0,0,1) 0%, transparent 100%);","  pointer-events: none;","}",".star-wars-intro .space-button {","  color: #EBD71C;","  border: 12px solid #EBD71C;","  padding: 20px;","  background: transparent;","  text-decoration: none;","  margin: 0 auto;","  display: block;","  text-align: center;","}",".star-wars-intro .space-button:hover {","  background-color: #D2BE03;","  border-color: #D2BE03;","  color: black;","}",".star-wars-intro .space-button:active,",".star-wars-intro .space-button:focus {","  background-color: #B8A40A;","  border-color: #B8A40A;","  color: black;","}",".star-wars-intro .title-content {","  position: absolute;","  top: 100%;","  animation: scroll var(--primer-spec-april-fools-star-wars-content-scroll-duration) linear 4s forwards;","  /* Support animate-via-scrolling */","  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s + 4s);","  animation-iteration-count: 1;","  animation-fill-mode: both;","  animation-play-state: paused;","}",".star-wars-intro .title-content > .content-header {","  text-align: center;","}","/* Main Image Styles */",".star-wars-intro .main-logo {","  position: absolute;","  width: 2.6em;","  left: 50%;","  top: 20vh;","  font-size: 10em;","  text-align: center;","  margin-left: -1.3em;","  line-height: 0.8em;","  letter-spacing: -0.05em;","  color: #000;","  text-shadow: -2px -2px 0 #EBD71C, 2px -2px 0 #EBD71C, -2px 2px 0 #EBD71C, 2px 2px 0 #EBD71C;","  opacity: 0;","  z-index: 1;","  animation: logo 5s ease-out 2.5s;","  /* Support animate-via-scrolling */","  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s + 2.5s);","  animation-iteration-count: 1;","  animation-fill-mode: both;","  animation-play-state: paused;","}",".star-wars-intro .main-logo > img {","  max-width: 100%;","}","@keyframes intro {","  0% { opacity: 1; }","  90% { opacity: 1; }","  100% { opacity: 0; }","}","@keyframes logo {","  0% { opacity: 0; }","  1% { transform: scale(1); opacity: 1; }","  50% { opacity: 1; }","  100% { transform: scale(0.1); opacity: 0; }","}","@keyframes scroll {","  0% { transform: translate(0, 0); }","  100% { transform: translate(0, -170%); }","}","@media screen and (max-width: 720px) {","  .star-wars-intro .main-content {","    font-size: 35px;","  }","  .star-wars-intro .title-content {","    position: absolute;","    top: 100%;","    /* Animation duration controlled in JS */","  }","}")),document.body=r.h("body",null,r.h(y,null),r.h("div",{class:"wrapper"},function(t){const e=t.querySelector("#primer-spec-preact-main-content");if(!e)throw new Error("Star Wars joke: Could not find main content");let o=null;return"H1"===e.firstElementChild?.tagName&&(o=e.firstElementChild.cloneNode(!0),o.classList.add("main-logo")),r.h("div",{class:"star-wars-intro"},r.h("p",{class:"intro-text"},"A long time ago, in a class far, far away..."),o,function(t){const e=r.h("div",{class:"title-content"});for(const o of t.children)o instanceof HTMLElement&&(o.tagName.startsWith("H")?e.appendChild(r.h("p",{class:"content-header"},o.innerText)):e.appendChild(r.h("p",{class:"content-body"},o.innerText)));return r.h("div",{class:"main-content"},e)}(e))}(d))),w(),window.addEventListener("scroll",(()=>{const t=parseInt(document.body.style.getPropertyValue("--primer-spec-april-fools-star-wars-content-scroll-duration"),10),e=window.scrollY/(document.body.offsetHeight-window.innerHeight);document.body.style.setProperty("--primer-spec-april-fools-star-wars-scroll",""+e*t)}),!1),document.body.style.setProperty("min-height",`${g().offsetHeight+200}px`),f(),window.PrimerSpec?.updateTheme?.({mode:"dark"},!1))}},"Switch to Star Wars crawl"))))}function w(){const t=Math.round(g().offsetHeight/b());document.body.style.setProperty("--primer-spec-april-fools-star-wars-content-scroll-duration",`${t}s`)}function f(){var t;m.autoScroll||(m.autoScroll=!0),t=x,window.addEventListener("DOMMouseScroll",t,!1),window.addEventListener(C,t,k),window.addEventListener("touchmove",t,k),window.addEventListener("keydown",t,!1),window.matchMedia("(max-width: 720px)").addEventListener("change",(()=>{w()}));let e=null;window.requestAnimationFrame((function t(o){e||(e=o);const r=o-e;r>20&&(window.scrollBy(0,b()*r/1e3),e=o),m.autoScroll&&window.requestAnimationFrame(t)}))}function g(){const t=document.querySelector(".title-content");if(!t)throw new Error("Primer Spec: Expected to find Star Wars title element");return t}function b(){return window.matchMedia("(max-width: 720px)").matches?l:s}function y(){return r.h("div",{class:"topbar"},r.h(v,{id:c,faClass:"pause",title:"Pause auto-scroll",onClick:x}),r.h(v,{faClass:"music",title:"Open background music in new tab",onClick:()=>{window.open("https://youtu.be/MNMSAIG0dfQ?si=XY4mCjSpwFRswqaA","_blank")}}),r.h(v,{faClass:"sign-out-alt",title:"Exit Star Wars crawl",onClick:()=>{null!=d&&(m.autoScroll=!1,m.enabled=!1,window.PrimerSpec?.updateTheme?.({},!1),document.body=d)}}))}function v(t){const{id:e,faClass:o,title:a,onClick:n}=t;return r.h("span",{id:e,class:"primer-spec-hoverable",style:"margin-left: 30px;"},r.h("button",{class:"btn-link primer-spec-hoverable no-print",title:a,onClick:n},r.h("i",{class:`fas fa-${o}`})))}function x(){m.autoScroll=!m.autoScroll;const t=document.getElementById(c)?.querySelector("i.fas"),e=document.getElementById(c)?.querySelector("button");var o;e&&t&&m.autoScroll?(t.classList.remove("fa-play"),t.classList.add("fa-pause"),e.title="Pause auto-scroll"):e&&t&&!m.autoScroll&&(t.classList.remove("fa-pause"),t.classList.add("fa-play"),e.title="Start auto-scroll"),m.autoScroll?f():(o=x,window.removeEventListener("DOMMouseScroll",o),window.removeEventListener(C,o),window.removeEventListener("touchmove",o),window.removeEventListener("keydown",o))}let S=!1;try{window.addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(S=!0,null)}))}catch(t){}const k=!!S&&{passive:!1},C="onwheel"in document.createElement("div")?"wheel":"mousewheel"},25:(t,e,o)=>{o.d(e,{X:()=>n});var r=o(916);const a="primer-spec-april-fools-popover-dark-mode-styles";function n(){document.querySelector(`#${a}`)||document.head.appendChild(r.h("style",null,':root[data-theme-mode="dark"] .Popover .dropdown {',"  filter: invert(93%) hue-rotate(180deg);","}",':root[data-theme-mode="dark"] .Popover .dropdown .dropdown-item {',"  color: #24292e","}",':root[data-theme-mode="dark"] .Popover .dropdown .dropdown-item:hover {',"  color: #000;","}",".Popover {","  color: var(--main-text-color)","}",':root[data-theme-mode="dark"] .Popover-message {',"  background-color: var(--code-block-header-bg-color);","  border: 1px solid #30363d;","}",':root[data-theme-mode="dark"] .Popover-message--right-top::after {',"  border-left-color: #30363d;","}"))}}}]);
//# sourceMappingURL=282.primer_spec_plugin.min.js.map