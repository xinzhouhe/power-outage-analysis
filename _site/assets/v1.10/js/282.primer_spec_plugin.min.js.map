{"version":3,"file":"282.primer_spec_plugin.min.js","mappings":"8IAIA,MAAMA,EAAY,+BACZC,EAA4B,GAC5BC,EAA2B,GAC3BC,EAAqB,yCAC3B,IAAIC,EAAsB,KACXC,eAAeC,KAC1B,SAIJ,WACI,GAAIC,EAAMC,SAAiD,MAAtCC,SAASC,eAAeV,GACzC,OAEJ,MAAMW,EAAgCF,SAASG,cAAc,gCACvDC,EAAuBF,GAA+BC,cAAc,uDAC1E,IAAKC,IAAyBF,EAE1B,YADAG,QAAQC,KAAK,oHAGjB,MAAMC,EAASH,EAAqBI,WAAU,GAC9CD,EAAOE,MAAMC,aAAe,MAC5B,MAAMC,EAAOJ,EAAOJ,cAAc,YAClCQ,GAAMC,UAAUC,OAAO,UACvBF,GAAMC,UAAUE,IAAI,WAChBH,IACAA,EAAKI,GAAKxB,GAEdW,EAA8Bc,QAAQT,GACtC,MAAMU,EAAYV,EAAOJ,cAAc,UACvCc,GAAWC,iBAAiB,SAAS,IAAMC,KAC/C,CAxBIC,EACJ,CACA,MAAMtB,EAAQ,CAAEC,SAAS,EAAOsB,YAAY,GAuBtCC,EAAY,4CAClB,SAASH,IACL,MAAMI,EAAkBvB,SAASC,eAAeqB,GAChD,GAAIC,EAEA,YADAA,EAAgBV,SAGpB,MAAMW,GAAW,YAAsB,KAAMC,IACvC,8BACA,eACAC,EAAS1B,SAASG,cAAc,6BACtCuB,GAAQC,YAAY,IAAS,MAAO,CAAEZ,GAAIO,EAAWM,MAAO,4BAA6BnB,MAAO,qCAC5F,IAAS,MAAO,CAAEmB,MAAO,6EAA8EnB,MAAO,gBAC1G,IAAS,SAAU,CAAEmB,MAAO,mDAAoDnB,MAAO,8CAA+CoB,QAAS,IAAMV,KACjJ,IAAS,IAAK,CAAES,MAAO,kBAC3B,IAAS,KAAM,CAAEA,MAAO,QAAUJ,GAClC,IAAS,SAAU,CAAEI,MAAO,kBAAmBC,QAAS,KAG5D/B,EAAMC,UAGVD,EAAMC,SAAU,EAGhBJ,EAAsBK,SAAS8B,KAwJ/B9B,SAAS+B,KAAKJ,YAAY,IAAS,QAAS,KACxC,KACA,0BACA,2CACA,uBACA,sCACA,qGACA,eACA,KACA,YACA,qBACA,YACA,iBACA,gBACA,mBACA,6BACA,IACA,aACA,qBACA,IACA,yBACA,kBACA,iBACA,uBACA,iBACA,IACA,qBACA,mGACA,iBACA,kBACA,2DACA,sBACA,oBACA,4BACA,sBACA,wBACA,IACA,kCACA,wBACA,qBACA,qBACA,sBACA,sBACA,iBACA,gBACA,gBACA,wBACA,kCACA,wCACA,kFACA,kCACA,+BACA,kCACA,IACA,kCACA,uBACA,wBACA,wBACA,gBACA,gBACA,mBACA,eACA,qBACA,uBACA,yBACA,sBACA,gCACA,kDACA,qDACA,6BACA,mBACA,IACA,yCACA,wBACA,kBACA,YACA,iBACA,gFACA,0BACA,IACA,mCACA,oBACA,gCACA,mBACA,6BACA,2BACA,oBACA,oBACA,wBACA,IACA,yCACA,+BACA,2BACA,kBACA,IACA,yCACA,yCACA,+BACA,2BACA,kBACA,IACA,oCACA,wBACA,eACA,2GACA,wCACA,uFACA,kCACA,+BACA,kCACA,IACA,sDACA,wBACA,IACA,0BACA,gCACA,wBACA,kBACA,eACA,eACA,qBACA,wBACA,yBACA,wBACA,6BACA,iBACA,iGACA,gBACA,gBACA,sCACA,wCACA,yFACA,kCACA,+BACA,kCACA,IACA,sCACA,qBACA,IACA,qBACA,uBACA,wBACA,yBACA,IACA,oBACA,uBACA,4CACA,wBACA,gDACA,IACA,sBACA,uCACA,6CACA,IACA,yCACA,qCACA,uBACA,MACA,sCACA,0BACA,iBACA,gDACA,MACA,MAzTJ3B,SAAS8B,KAAQ,IAAS,OAAQ,KAC9B,IAASE,EAAQ,MACjB,IAAS,MAAO,CAAEJ,MAAO,WAOjC,SAAsCK,GAClC,MAAMC,EAAcD,EAAS9B,cAAc,oCAC3C,IAAK+B,EACD,MAAM,IAAIC,MAAM,+CAEpB,IAAIC,EAAO,KAKX,MAJ+C,OAA3CF,EAAYG,mBAAmBC,UAC/BF,EAAOF,EAAYG,kBAAkB7B,WAAU,GAC/C4B,EAAKxB,UAAUE,IAAI,cAEf,IAAS,MAAO,CAAEc,MAAO,mBAC7B,IAAS,IAAK,CAAEA,MAAO,cAAgB,gDACvCQ,EAGR,SAAiDG,GAC7C,MAAMC,EAAe,IAAS,MAAO,CAAEZ,MAAO,kBAC9C,IAAK,MAAMa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","sources":["webpack:///./conditional_plugins/plugins/april_fools_star_wars.plugin.tsx","webpack:///./conditional_plugins/plugins/utils/popover_dark_mode_styles.tsx"],"sourcesContent":["/** @jsx JSXDom.h */\nimport * as JSXDom from 'jsx-dom';\nimport { Month, getCurrentMonth } from '../utils/date_utils';\nimport { insertPopoverDarkModeStylesOnce } from './utils/popover_dark_mode_styles';\nconst TOGGLE_ID = 'primer-spec-star-wars-toggle';\nconst DEFAULT_PIXELS_PER_SECOND = 40;\nconst MOBILE_PIXELS_PER_SECOND = 80;\nconst AUTO_SCROLL_BTN_ID = 'primer-spec-star-wars-auto-scroll-ctrl';\nlet specHtmlBodyElement = null;\nexport default async function AprilFoolsLanguagesPlugin() {\n    insertPopoverDarkModeStylesOnce();\n    insertToggleIfNeeded();\n}\nconst state = { enabled: false, autoScroll: true };\nfunction insertToggleIfNeeded() {\n    if (state.enabled || document.getElementById(TOGGLE_ID) != null) {\n        return;\n    }\n    const settingsToggleButtonContainer = document.querySelector('#primer-spec-settings-toggle');\n    const settingsToggleButton = settingsToggleButtonContainer?.querySelector('#primer-spec-settings-toggle .primer-spec-hoverable');\n    if (!settingsToggleButton || !settingsToggleButtonContainer) {\n        console.warn('Primer Spec: April Fools Star Wars joke: Could not find left-most topbar toggle button or settings toggle button');\n        return;\n    }\n    const toggle = settingsToggleButton.cloneNode(true);\n    toggle.style.paddingRight = '1em';\n    const icon = toggle.querySelector('i.fa-cog');\n    icon?.classList.remove('fa-cog');\n    icon?.classList.add('fa-jedi');\n    if (icon) {\n        icon.id = TOGGLE_ID;\n    }\n    settingsToggleButtonContainer.prepend(toggle);\n    const toggleBtn = toggle.querySelector('button');\n    toggleBtn?.addEventListener('click', () => togglePopover());\n}\nconst popoverId = 'primer-spec-april-fools-star-wars-popover';\nfunction togglePopover() {\n    const existingPopover = document.getElementById(popoverId);\n    if (existingPopover) {\n        existingPopover.remove();\n        return;\n    }\n    const greeting = getCurrentMonth() === Month.MAY\n        ? 'May the fourth be with you!'\n        : 'April Fools!';\n    const topbar = document.querySelector('header.primer-spec-topbar');\n    topbar?.appendChild(JSXDom.h(\"div\", { id: popoverId, class: \"Popover position-absolute\", style: \"right: 8em; pointer-events: auto;\" },\n        JSXDom.h(\"div\", { class: \"Popover-message Popover-message--right-top p-4 mr-2 Box color-shadow-large\", style: \"width: auto;\" },\n            JSXDom.h(\"button\", { class: \"btn-link position-absolute primer-spec-hoverable\", style: \"top: 0.25em; right: 0.5em; font-size: 20px;\", onClick: () => togglePopover() },\n                JSXDom.h(\"i\", { class: \"fas fa-times\" })),\n            JSXDom.h(\"h4\", { class: \"mb-2\" }, greeting),\n            JSXDom.h(\"button\", { class: \"btn btn-primary\", onClick: () => renderStarWarsCrawl() }, \"Switch to Star Wars crawl\"))));\n}\nfunction renderStarWarsCrawl() {\n    if (state.enabled) {\n        return;\n    }\n    state.enabled = true;\n    // Store the existing spec body so that we can revert to it when the user\n    // closes this joke.\n    specHtmlBodyElement = document.body;\n    insertStyles();\n    document.body = (JSXDom.h(\"body\", null,\n        JSXDom.h(Topbar, null),\n        JSXDom.h(\"div\", { class: \"wrapper\" }, convertSpecHtmlToStarWarsDom(specHtmlBodyElement))));\n    setScrollAnimationDuration();\n    listenForScrollChanges();\n    startAutoScroll();\n    // Set dark theme CSS variables\n    window.PrimerSpec?.updateTheme?.({ mode: 'dark' }, false);\n}\nfunction convertSpecHtmlToStarWarsDom(specNode) {\n    const mainContent = specNode.querySelector('#primer-spec-preact-main-content');\n    if (!mainContent) {\n        throw new Error('Star Wars joke: Could not find main content');\n    }\n    let logo = null;\n    if (mainContent.firstElementChild?.tagName === 'H1') {\n        logo = mainContent.firstElementChild.cloneNode(true);\n        logo.classList.add('main-logo');\n    }\n    return (JSXDom.h(\"div\", { class: \"star-wars-intro\" },\n        JSXDom.h(\"p\", { class: \"intro-text\" }, \"A long time ago, in a class far, far away...\"),\n        logo,\n        convertSpecHtmlToStarWarsDomMainContent(mainContent)));\n}\nfunction convertSpecHtmlToStarWarsDomMainContent(mainContentNode) {\n    const titleContent = JSXDom.h(\"div\", { class: \"title-content\" });\n    for (const child of mainContentNode.children) {\n        if (!(child instanceof HTMLElement)) {\n            continue;\n        }\n        if (child.tagName.startsWith('H')) {\n            titleContent.appendChild(JSXDom.h(\"p\", { class: \"content-header\" }, child.innerText));\n        }\n        else {\n            titleContent.appendChild(JSXDom.h(\"p\", { class: \"content-body\" }, child.innerText));\n        }\n    }\n    return (JSXDom.h(\"div\", { class: \"main-content\" }, titleContent));\n}\nfunction setScrollAnimationDuration() {\n    const duration = Math.round(getStarWarsMainContentEl().offsetHeight / getAnimationPixelsPerSecond());\n    document.body.style.setProperty('--primer-spec-april-fools-star-wars-content-scroll-duration', `${duration}s`);\n}\n// Based on: https://css-tricks.com/books/greatest-css-tricks/scroll-animation/\nfunction listenForScrollChanges() {\n    const handleScroll = () => {\n        const animationDuration = parseInt(document.body.style.getPropertyValue('--primer-spec-april-fools-star-wars-content-scroll-duration'), 10);\n        const scrollPercentage = window.scrollY / (document.body.offsetHeight - window.innerHeight);\n        document.body.style.setProperty('--primer-spec-april-fools-star-wars-scroll', `${scrollPercentage * animationDuration}`);\n    };\n    window.addEventListener('scroll', handleScroll, false);\n    // Also make the body scrollable\n    document.body.style.setProperty('min-height', `${getStarWarsMainContentEl().offsetHeight + 200}px`);\n}\nfunction startAutoScroll() {\n    if (!state.autoScroll) {\n        state.autoScroll = true;\n    }\n    listenForUserScroll(toggleAutoScroll);\n    listenForViewportChanges();\n    let lastTick = null;\n    function autoScrollStep(timestamp) {\n        if (!lastTick) {\n            lastTick = timestamp;\n        }\n        const elapsed = timestamp - lastTick;\n        if (elapsed > 20) {\n            window.scrollBy(0, (getAnimationPixelsPerSecond() * elapsed) / 1000);\n            lastTick = timestamp;\n        }\n        if (state.autoScroll) {\n            window.requestAnimationFrame(autoScrollStep);\n        }\n    }\n    window.requestAnimationFrame(autoScrollStep);\n}\nfunction getStarWarsMainContentEl() {\n    const mainContentEl = document.querySelector('.title-content');\n    if (!mainContentEl) {\n        throw new Error('Primer Spec: Expected to find Star Wars title element');\n    }\n    return mainContentEl;\n}\nfunction listenForViewportChanges() {\n    window.matchMedia('(max-width: 720px)').addEventListener('change', () => {\n        setScrollAnimationDuration();\n    });\n}\nfunction getAnimationPixelsPerSecond() {\n    return window.matchMedia('(max-width: 720px)').matches\n        ? MOBILE_PIXELS_PER_SECOND\n        : DEFAULT_PIXELS_PER_SECOND;\n}\n////////////\n// Topbar //\n////////////\nfunction Topbar() {\n    return (JSXDom.h(\"div\", { class: \"topbar\" },\n        JSXDom.h(Button, { id: AUTO_SCROLL_BTN_ID, faClass: \"pause\", title: \"Pause auto-scroll\", onClick: toggleAutoScroll }),\n        JSXDom.h(Button, { faClass: \"music\", title: \"Open background music in new tab\", onClick: () => {\n                window.open('https://youtu.be/MNMSAIG0dfQ?si=XY4mCjSpwFRswqaA', '_blank');\n            } }),\n        JSXDom.h(Button, { faClass: \"sign-out-alt\", title: \"Exit Star Wars crawl\", onClick: () => {\n                if (specHtmlBodyElement != null) {\n                    state.autoScroll = false;\n                    state.enabled = false;\n                    // Reset the theme\n                    window.PrimerSpec?.updateTheme?.({}, false);\n                    // Then reset the body el\n                    document.body = specHtmlBodyElement;\n                }\n            } })));\n}\nfunction Button(props) {\n    const { id, faClass, title, onClick } = props;\n    return (JSXDom.h(\"span\", { id: id, class: \"primer-spec-hoverable\", style: \"margin-left: 30px;\" },\n        JSXDom.h(\"button\", { class: \"btn-link primer-spec-hoverable no-print\", title: title, onClick: onClick },\n            JSXDom.h(\"i\", { class: `fas fa-${faClass}` }))));\n}\nfunction toggleAutoScroll() {\n    state.autoScroll = !state.autoScroll;\n    const btnIcon = document\n        .getElementById(AUTO_SCROLL_BTN_ID)\n        ?.querySelector('i.fas');\n    const btn = document\n        .getElementById(AUTO_SCROLL_BTN_ID)\n        ?.querySelector('button');\n    if (btn && btnIcon && state.autoScroll) {\n        btnIcon.classList.remove('fa-play');\n        btnIcon.classList.add('fa-pause');\n        btn.title = 'Pause auto-scroll';\n    }\n    else if (btn && btnIcon && !state.autoScroll) {\n        btnIcon.classList.remove('fa-pause');\n        btnIcon.classList.add('fa-play');\n        btn.title = 'Start auto-scroll';\n    }\n    if (state.autoScroll) {\n        startAutoScroll();\n    }\n    else {\n        stopListeningForUserScroll(toggleAutoScroll);\n    }\n}\n///////////////////\n// 3rd party CSS //\n///////////////////\nfunction insertStyles() {\n    // Downloaded from: https://polarnotion.github.io/starwarsintro/\n    // With some modifications for the Primer Spec joke\n    document.head.appendChild(JSXDom.h(\"style\", null,\n        `/*`,\n        `Name: StarWarsIntro.css`,\n        `URI: polarnotion.github.io/starwarsintro`,\n        `Author: Polar Notion`,\n        `Author URI: http://polarnotion.com/`,\n        `Description: A simple CSS library for creating a Star Wars Intro Crawl. May the Force be with you.`,\n        `Version: 1.0`,\n        `*/`,\n        `.topbar {`,\n        `  position: fixed;`,\n        `  top: 0;`,\n        `  width: 100%;`,\n        `  z-index: 2;`,\n        `  display: flex;`,\n        `  justify-content: center;`,\n        `}`,\n        `.wrapper {`,\n        `  position: fixed;`,\n        `}`,\n        `body, html, .wrapper {`,\n        `  height: 100%;`,\n        `  width: 100%;`,\n        `  min-height: 100vh;`,\n        `  margin: 0px;`,\n        `}`,\n        `.star-wars-intro {`,\n        `  background: url(\"https://eecs485staff.github.io/primer-spec/demo/stars-bg.jpg\") center center;`,\n        `  width: 100%;`,\n        `  height: 100%;`,\n        `  font-family: \"Droid Sans\", arial, verdana, sans-serif;`,\n        `  font-weight: 700;`,\n        `  color: #EBD71C;`,\n        `  background-color: #000;`,\n        `  overflow: hidden;`,\n        `  position: relative;`,\n        `}`,\n        `.star-wars-intro p.intro-text {`,\n        `  position: relative;`,\n        `  max-width: 16em;`,\n        `  font-size: 200%;`,\n        `  font-weight: 400;`,\n        `  margin: 20% auto;`,\n        `  color: #4ee;`,\n        `  opacity: 0;`,\n        `  z-index: 1;`,\n        `  text-align: center;`,\n        `  animation: intro 2s ease-out;`,\n        `  /* Support animate-via-scrolling */`,\n        `  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s);`,\n        `  animation-iteration-count: 1;`,\n        `  animation-fill-mode: both;`,\n        `  animation-play-state: paused;`,\n        `}`,\n        `.star-wars-intro .main-content{`,\n        `  margin-left: auto;`,\n        `  margin-right: auto;`,\n        `  position: absolute;`,\n        `  z-index: 3;`,\n        `  width: 98%;`,\n        `  height: 500vh;`,\n        `  bottom: 0;`,\n        `  font-size: 80px;`,\n        `  font-weight: bold;`,\n        `  text-align: justify;`,\n        `  overflow: hidden;`,\n        `  transform-origin: 50% 100%;`,\n        `  transform: perspective(350px) rotateX(25deg);`,\n        `  /* Hyphenation and text-wrap on small screens */`,\n        `  overflow-wrap: anywhere;`,\n        `  hyphens: auto;`,\n        `}`,\n        `.star-wars-intro .main-content:after {`,\n        `  position: absolute;`,\n        `  content: ' ';`,\n        `  top: 0;`,\n        `  bottom: 60%;`,\n        `  background-image: linear-gradient(top, rgba(0,0,0,1) 0%, transparent 100%);`,\n        `  pointer-events: none;`,\n        `}`,\n        `.star-wars-intro .space-button {`,\n        `  color: #EBD71C;`,\n        `  border: 12px solid #EBD71C;`,\n        `  padding: 20px;`,\n        `  background: transparent;`,\n        `  text-decoration: none;`,\n        `  margin: 0 auto;`,\n        `  display: block;`,\n        `  text-align: center;`,\n        `}`,\n        `.star-wars-intro .space-button:hover {`,\n        `  background-color: #D2BE03;`,\n        `  border-color: #D2BE03;`,\n        `  color: black;`,\n        `}`,\n        `.star-wars-intro .space-button:active,`,\n        `.star-wars-intro .space-button:focus {`,\n        `  background-color: #B8A40A;`,\n        `  border-color: #B8A40A;`,\n        `  color: black;`,\n        `}`,\n        `.star-wars-intro .title-content {`,\n        `  position: absolute;`,\n        `  top: 100%;`,\n        `  animation: scroll var(--primer-spec-april-fools-star-wars-content-scroll-duration) linear 4s forwards;`,\n        `  /* Support animate-via-scrolling */`,\n        `  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s + 4s);`,\n        `  animation-iteration-count: 1;`,\n        `  animation-fill-mode: both;`,\n        `  animation-play-state: paused;`,\n        `}`,\n        `.star-wars-intro .title-content > .content-header {`,\n        `  text-align: center;`,\n        `}`,\n        `/* Main Image Styles */`,\n        `.star-wars-intro .main-logo {`,\n        `  position: absolute;`,\n        `  width: 2.6em;`,\n        `  left: 50%;`,\n        `  top: 20vh;`,\n        `  font-size: 10em;`,\n        `  text-align: center;`,\n        `  margin-left: -1.3em;`,\n        `  line-height: 0.8em;`,\n        `  letter-spacing: -0.05em;`,\n        `  color: #000;`,\n        `  text-shadow: -2px -2px 0 #EBD71C, 2px -2px 0 #EBD71C, -2px 2px 0 #EBD71C, 2px 2px 0 #EBD71C;`,\n        `  opacity: 0;`,\n        `  z-index: 1;`,\n        `  animation: logo 5s ease-out 2.5s;`,\n        `  /* Support animate-via-scrolling */`,\n        `  animation-delay: calc(var(--primer-spec-april-fools-star-wars-scroll) * -1s + 2.5s);`,\n        `  animation-iteration-count: 1;`,\n        `  animation-fill-mode: both;`,\n        `  animation-play-state: paused;`,\n        `}`,\n        `.star-wars-intro .main-logo > img {`,\n        `  max-width: 100%;`,\n        `}`,\n        `@keyframes intro {`,\n        `  0% { opacity: 1; }`,\n        `  90% { opacity: 1; }`,\n        `  100% { opacity: 0; }`,\n        `}`,\n        `@keyframes logo {`,\n        `  0% { opacity: 0; }`,\n        `  1% { transform: scale(1); opacity: 1; }`,\n        `  50% { opacity: 1; }`,\n        `  100% { transform: scale(0.1); opacity: 0; }`,\n        `}`,\n        `@keyframes scroll {`,\n        `  0% { transform: translate(0, 0); }`,\n        `  100% { transform: translate(0, -170%); }`,\n        `}`,\n        `@media screen and (max-width: 720px) {`,\n        `  .star-wars-intro .main-content {`,\n        `    font-size: 35px;`,\n        `  }`,\n        `  .star-wars-intro .title-content {`,\n        `    position: absolute;`,\n        `    top: 100%;`,\n        `    /* Animation duration controlled in JS */`,\n        `  }`,\n        `}`));\n}\n///////////////////\n// 3rd party JS //\n///////////////////\n// The following code was modified from: https://stackoverflow.com/a/4770179\n// modern Chrome requires { passive: false } when adding event\nlet supportsPassive = false;\ntry {\n    window.addEventListener('test', () => { }, Object.defineProperty({}, 'passive', {\n        get() {\n            supportsPassive = true;\n            return null;\n        },\n    }));\n}\ncatch (e) { }\nconst wheelOpt = supportsPassive ? { passive: false } : false;\nconst wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n// call this to Disable\nfunction listenForUserScroll(callback) {\n    window.addEventListener('DOMMouseScroll', callback, false); // older FF\n    window.addEventListener(wheelEvent, callback, wheelOpt); // modern desktop\n    window.addEventListener('touchmove', callback, wheelOpt); // mobile\n    window.addEventListener('keydown', callback, false);\n}\nfunction stopListeningForUserScroll(callback) {\n    window.removeEventListener('DOMMouseScroll', callback); // older FF\n    window.removeEventListener(wheelEvent, callback); // modern desktop\n    window.removeEventListener('touchmove', callback); // mobile\n    window.removeEventListener('keydown', callback);\n}\n","/** @jsx JSXDom.h */\nimport * as JSXDom from 'jsx-dom';\nconst DARK_MODE_STYLE_ID = 'primer-spec-april-fools-popover-dark-mode-styles';\nexport function insertPopoverDarkModeStylesOnce() {\n    if (!document.querySelector(`#${DARK_MODE_STYLE_ID}`)) {\n        document.head.appendChild(JSXDom.h(\"style\", null,\n            ':root[data-theme-mode=\"dark\"] .Popover .dropdown {',\n            '  filter: invert(93%) hue-rotate(180deg);',\n            '}',\n            ':root[data-theme-mode=\"dark\"] .Popover .dropdown .dropdown-item {',\n            '  color: #24292e',\n            '}',\n            ':root[data-theme-mode=\"dark\"] .Popover .dropdown .dropdown-item:hover {',\n            '  color: #000;',\n            '}',\n            '.Popover {',\n            '  color: var(--main-text-color)',\n            '}',\n            ':root[data-theme-mode=\"dark\"] .Popover-message {',\n            '  background-color: var(--code-block-header-bg-color);',\n            '  border: 1px solid #30363d;',\n            '}',\n            ':root[data-theme-mode=\"dark\"] .Popover-message--right-top::after {',\n            '  border-left-color: #30363d;',\n            '}'));\n    }\n}\n"],"names":["TOGGLE_ID","DEFAULT_PIXELS_PER_SECOND","MOBILE_PIXELS_PER_SECOND","AUTO_SCROLL_BTN_ID","specHtmlBodyElement","async","AprilFoolsLanguagesPlugin","state","enabled","document","getElementById","settingsToggleButtonContainer","querySelector","settingsToggleButton","console","warn","toggle","cloneNode","style","paddingRight","icon","classList","remove","add","id","prepend","toggleBtn","addEventListener","togglePopover","insertToggleIfNeeded","autoScroll","popoverId","existingPopover","greeting","MAY","topbar","appendChild","class","onClick","body","head","Topbar","specNode","mainContent","Error","logo","firstElementChild","tagName","mainContentNode","titleContent","child","children","HTMLElement","startsWith","innerText","convertSpecHtmlToStarWarsDomMainContent","convertSpecHtmlToStarWarsDom","setScrollAnimationDuration","window","animationDuration","parseInt","getPropertyValue","scrollPercentage","scrollY","offsetHeight","innerHeight","setProperty","getStarWarsMainContentEl","startAutoScroll","PrimerSpec","updateTheme","mode","duration","Math","round","getAnimationPixelsPerSecond","callback","toggleAutoScroll","wheelEvent","wheelOpt","matchMedia","lastTick","requestAnimationFrame","autoScrollStep","timestamp","elapsed","scrollBy","mainContentEl","matches","Button","faClass","title","open","props","btnIcon","btn","removeEventListener","supportsPassive","Object","defineProperty","get","e","passive","createElement","DARK_MODE_STYLE_ID","insertPopoverDarkModeStylesOnce"],"sourceRoot":""}